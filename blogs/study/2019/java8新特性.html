<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java8新特性 | Note</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/otsma/favicon.ico">
    <meta name="description" content="Person Note">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/otsma/assets/css/0.styles.956fe60f.css" as="style"><link rel="preload" href="/otsma/assets/js/app.2cc25e1e.js" as="script"><link rel="preload" href="/otsma/assets/js/3.7d6e1650.js" as="script"><link rel="preload" href="/otsma/assets/js/1.9128deea.js" as="script"><link rel="preload" href="/otsma/assets/js/17.d44e7783.js" as="script"><link rel="prefetch" href="/otsma/assets/js/10.59ff8cf0.js"><link rel="prefetch" href="/otsma/assets/js/11.eaef7035.js"><link rel="prefetch" href="/otsma/assets/js/12.3ad4cdee.js"><link rel="prefetch" href="/otsma/assets/js/13.136113ba.js"><link rel="prefetch" href="/otsma/assets/js/14.6f7324ed.js"><link rel="prefetch" href="/otsma/assets/js/15.9adb27bf.js"><link rel="prefetch" href="/otsma/assets/js/16.bd822f75.js"><link rel="prefetch" href="/otsma/assets/js/18.f35ab940.js"><link rel="prefetch" href="/otsma/assets/js/19.aeecdd9d.js"><link rel="prefetch" href="/otsma/assets/js/20.1c694563.js"><link rel="prefetch" href="/otsma/assets/js/21.38a46985.js"><link rel="prefetch" href="/otsma/assets/js/22.9f60aa64.js"><link rel="prefetch" href="/otsma/assets/js/23.e77cef86.js"><link rel="prefetch" href="/otsma/assets/js/24.2bcca9bc.js"><link rel="prefetch" href="/otsma/assets/js/25.91e31296.js"><link rel="prefetch" href="/otsma/assets/js/26.d85b599d.js"><link rel="prefetch" href="/otsma/assets/js/27.af3e02f2.js"><link rel="prefetch" href="/otsma/assets/js/28.e29d98ef.js"><link rel="prefetch" href="/otsma/assets/js/29.a743c622.js"><link rel="prefetch" href="/otsma/assets/js/30.ea6dcb5d.js"><link rel="prefetch" href="/otsma/assets/js/31.b6765a39.js"><link rel="prefetch" href="/otsma/assets/js/32.9829fa8e.js"><link rel="prefetch" href="/otsma/assets/js/33.fab39b71.js"><link rel="prefetch" href="/otsma/assets/js/34.d8ae7318.js"><link rel="prefetch" href="/otsma/assets/js/35.f4e3c626.js"><link rel="prefetch" href="/otsma/assets/js/36.0924218b.js"><link rel="prefetch" href="/otsma/assets/js/37.183f9124.js"><link rel="prefetch" href="/otsma/assets/js/38.fa20f90e.js"><link rel="prefetch" href="/otsma/assets/js/39.91996b09.js"><link rel="prefetch" href="/otsma/assets/js/4.b192856a.js"><link rel="prefetch" href="/otsma/assets/js/40.558b8674.js"><link rel="prefetch" href="/otsma/assets/js/41.efe6943e.js"><link rel="prefetch" href="/otsma/assets/js/42.63b4a30d.js"><link rel="prefetch" href="/otsma/assets/js/43.a3df617e.js"><link rel="prefetch" href="/otsma/assets/js/44.10184724.js"><link rel="prefetch" href="/otsma/assets/js/45.035b8e16.js"><link rel="prefetch" href="/otsma/assets/js/46.ace90c0c.js"><link rel="prefetch" href="/otsma/assets/js/47.746b8ea8.js"><link rel="prefetch" href="/otsma/assets/js/48.0c42b8fb.js"><link rel="prefetch" href="/otsma/assets/js/49.93d8a4cc.js"><link rel="prefetch" href="/otsma/assets/js/5.558517e6.js"><link rel="prefetch" href="/otsma/assets/js/50.1f5de5d1.js"><link rel="prefetch" href="/otsma/assets/js/51.bde5eaf9.js"><link rel="prefetch" href="/otsma/assets/js/52.82ada44c.js"><link rel="prefetch" href="/otsma/assets/js/53.a6b80cc7.js"><link rel="prefetch" href="/otsma/assets/js/54.e7bdb794.js"><link rel="prefetch" href="/otsma/assets/js/6.1c08a92e.js"><link rel="prefetch" href="/otsma/assets/js/7.85d4102d.js"><link rel="prefetch" href="/otsma/assets/js/8.6168704b.js"><link rel="prefetch" href="/otsma/assets/js/9.9d0019ee.js">
    <link rel="stylesheet" href="/otsma/assets/css/0.styles.956fe60f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-2d5f533b><div data-v-2d5f533b><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-2d5f533b data-v-2d5f533b><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-2d5f533b data-v-2d5f533b><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>Note</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>Genlg</span>
            
          <span data-v-64685f0e>2020 - </span>
          2021
        </a></span></div></div> <div class="hide" data-v-2d5f533b><header class="navbar" data-v-2d5f533b><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/otsma/" class="home-link router-link-active"><img src="/otsma/logo.png" alt="Note" class="logo"> <span class="site-name">Note</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/otsma/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/otsma/categories/Tools/" class="nav-link"><i class="iconfont undefined"></i>
  Tools
</a></li><li class="dropdown-item"><!----> <a href="/otsma/categories/Java/" class="nav-link"><i class="iconfont undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/otsma/categories/springmvc/" class="nav-link"><i class="iconfont undefined"></i>
  springmvc
</a></li><li class="dropdown-item"><!----> <a href="/otsma/categories/Database/" class="nav-link"><i class="iconfont undefined"></i>
  Database
</a></li><li class="dropdown-item"><!----> <a href="/otsma/categories/算法/" class="nav-link"><i class="iconfont undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/otsma/categories/spring/" class="nav-link"><i class="iconfont undefined"></i>
  spring
</a></li><li class="dropdown-item"><!----> <a href="/otsma/categories/Mysql/" class="nav-link"><i class="iconfont undefined"></i>
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/otsma/categories/Typora/" class="nav-link"><i class="iconfont undefined"></i>
  Typora
</a></li></ul></div></div><div class="nav-item"><a href="/otsma/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Docs
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/otsma/docs/resume/" class="nav-link"><i class="iconfont undefined"></i>
  Resume
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/milylg" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-2d5f533b></div> <aside class="sidebar" data-v-2d5f533b><div class="personal-info-wrapper" data-v-ca798c94 data-v-2d5f533b><img src="/otsma/avatar.png" alt="author-avatar" class="personal-img" data-v-ca798c94> <h3 class="name" data-v-ca798c94>
    Genlg
  </h3> <div class="num" data-v-ca798c94><div data-v-ca798c94><h3 data-v-ca798c94>41</h3> <h6 data-v-ca798c94>Article</h6></div> <div data-v-ca798c94><h3 data-v-ca798c94>29</h3> <h6 data-v-ca798c94>Tag</h6></div></div> <hr data-v-ca798c94></div> <nav class="nav-links"><div class="nav-item"><a href="/otsma/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/otsma/categories/Tools/" class="nav-link"><i class="iconfont undefined"></i>
  Tools
</a></li><li class="dropdown-item"><!----> <a href="/otsma/categories/Java/" class="nav-link"><i class="iconfont undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/otsma/categories/springmvc/" class="nav-link"><i class="iconfont undefined"></i>
  springmvc
</a></li><li class="dropdown-item"><!----> <a href="/otsma/categories/Database/" class="nav-link"><i class="iconfont undefined"></i>
  Database
</a></li><li class="dropdown-item"><!----> <a href="/otsma/categories/算法/" class="nav-link"><i class="iconfont undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/otsma/categories/spring/" class="nav-link"><i class="iconfont undefined"></i>
  spring
</a></li><li class="dropdown-item"><!----> <a href="/otsma/categories/Mysql/" class="nav-link"><i class="iconfont undefined"></i>
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/otsma/categories/Typora/" class="nav-link"><i class="iconfont undefined"></i>
  Typora
</a></li></ul></div></div><div class="nav-item"><a href="/otsma/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Docs
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/otsma/docs/resume/" class="nav-link"><i class="iconfont undefined"></i>
  Resume
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/milylg" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-2d5f533b><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>Java8新特性</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>Genlg</span>
            
          <span data-v-64685f0e>2020 - </span>
          2021
        </a></span></div></div> <div data-v-2d5f533b><main class="page" style="padding-right:0;"><div class="page-title" style="display:none;"><h1 class="title">Java8新特性</h1> <div data-v-3b7f5bdf><i class="iconfont reco-account" data-v-3b7f5bdf><span data-v-3b7f5bdf>Genlg</span></i> <i class="iconfont reco-date" data-v-3b7f5bdf><span data-v-3b7f5bdf>2019-06-20</span></i> <!----> <i class="iconfont reco-tag tags" data-v-3b7f5bdf><span class="tag-item" data-v-3b7f5bdf>feature</span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><h4 id="java编程语言"><a href="#java编程语言" class="header-anchor">#</a> <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/language/enhancements.html#javase8" target="_blank" rel="noopener noreferrer">JAVA编程语言<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>Lambda表达式，一种新的语言特性，已经在这个版本中引入了。它们使您能够将功能视为方法参数，或将代码视为数据。Lambda表达式允许您更简洁地表示单方法接口(称为功能接口)的实例。</li> <li>方法引用为已有名称的方法提供易于阅读的lambda表达式。</li> <li>默认方法允许将新功能添加到库接口中，并确保与为这些接口的旧版本编写的代码具有二进制兼容性。</li> <li>重复注解提供了将同一批注类型多次应用于同一声明或类型使用的能力。</li> <li>类型注释提供了在任何使用类型的地方应用注释的能力，而不仅仅是在声明上。此功能与可插拔类型系统一起使用，可以改进代码的类型检查。</li> <li>改进的类型推理</li> <li>方法参数反射</li></ul> <h4 id="集合"><a href="#集合" class="header-anchor">#</a> <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/collections/changes8.html" target="_blank" rel="noopener noreferrer">集合<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>新的<code>java.util.stream</code>包中的类提供了一个 Stream API，支持对元素流进行函数式操作。Stream API 集成在 Collections API 中，可以对集合进行批量操作，例如顺序或并行的 map-reduce 转换。</li> <li>针对存在键冲突的 HashMap 的性能改进</li></ul> <h4 id="国际化"><a href="#国际化" class="header-anchor">#</a> <a href="http://docs.oracle.com/javase/8/docs/technotes/guides/intl/enhancements.8.html" target="_blank" rel="noopener noreferrer">国际化<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>Unicode增强，包括对Unicode 6.2.0的支持</li> <li>采用Unicode数据和java.locale.Providers系统属性</li> <li>新增日历和区域设置API</li> <li>支持将自定义资源包作为扩展进行安装</li></ul> <h4 id="io和nio"><a href="#io和nio" class="header-anchor">#</a> <a href="http://docs.oracle.com/javase/8/docs/technotes/guides/io/enhancements.html#jdk8" target="_blank" rel="noopener noreferrer">IO和NIO<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>全新的基于solaris事件端口机制的面向solaris的<code>SelectorProvider</code>实现.要使用它，请将系统属性<code>java.nio.channels.spi.Selector</code>的值设置为<code>sun.nio.ch.EventPortSelectorProvider</code>.</li> <li>减小<code>&lt;JDK_HOME&gt;/jre/lib/charsets.jar</code>文件的大小</li> <li>提高了<code>java.lang.String(byte[], *)</code>构造函数和<code>java.lang.String.getBytes()</code>方法的性能.</li></ul> <h4 id="java-lang和java-util程序包"><a href="#java-lang和java-util程序包" class="header-anchor">#</a> <a href="http://docs.oracle.com/javase/8/docs/technotes/guides/lang/enhancements.html#jdk8" target="_blank" rel="noopener noreferrer">Java.lang和java.util程序包<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>并行数组排序</li> <li>标准编码和解码Base 64</li> <li>无符号算术支持</li></ul> <h4 id="jdbc"><a href="#jdbc" class="header-anchor">#</a> <a href="http://docs.oracle.com/javase/8/docs/technotes/guides/jdbc/" target="_blank" rel="noopener noreferrer">JDBC<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>删除了JDBC-ODBCBridge.</li> <li>JDBC4.2引入了新特性。</li></ul> <h4 id="网络"><a href="#网络" class="header-anchor">#</a> <a href="http://docs.oracle.com/javase/8/docs/technotes/guides/net/enhancements-8.0.html" target="_blank" rel="noopener noreferrer">网络<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>已添加<code>java.net.URLPermission</code>类.</li> <li>在 <code>java.net.HttpURLConnection</code>类中，如果安装了安全管理器，那么请求打开连接的调用需要权限.</li></ul> <h4 id="并发性"><a href="#并发性" class="header-anchor">#</a> <a href="http://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/changes8.html" target="_blank" rel="noopener noreferrer">并发性<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li><code>java.util.concurrent</code>程序包中新增了一些类和接口.</li> <li>方法已添加到<code>java.util.concurrent.ConcurrentHashMap</code>类中新增了一些方法，支持基于新增流工具和lambda表达式的聚合操作.</li> <li><code>java.util.concurrent.atomic</code>程序包中新增了一些类来支持可扩展、可更新的变量.</li> <li><code>java.util.concurrent.ForkJoinPool</code>类中新增了一些方法来支持通用池.</li> <li>新增的<code>java.util.concurrent.locks.StampedLock</code>类提供了一个基于能力的锁，可通过三种模式来控制读/写访问。</li></ul> <h4 id="java基础"><a href="#java基础" class="header-anchor">#</a> java基础</h4> <ul><li><a href="https://docs.oracle.com/javase/tutorial/java/index.html" target="_blank" rel="noopener noreferrer">学习Java语言<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>-描述类、对象、继承、数据类型、泛型和包等基本概念。</li> <li><a href="https://docs.oracle.com/javase/tutorial/essential/index.html" target="_blank" rel="noopener noreferrer">本质Java类<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>-关于异常、基本输入/输出、并发性、正则表达式和平台环境。</li></ul> <h4 id="在基础上扩展了解新特性"><a href="#在基础上扩展了解新特性" class="header-anchor">#</a> 在基础上扩展了解新特性</h4> <ul><li><a href="https://docs.oracle.com/javase/tutorial/collections/index.html" target="_blank" rel="noopener noreferrer">Collections<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>-使用和扩展Java集合框架的经验教训。</li> <li><a href="https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html" target="_blank" rel="noopener noreferrer">Lambda表达式<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>-了解如何以及为什么在应用程序中使用Lambda表达式。</li> <li><a href="https://docs.oracle.com/javase/tutorial/collections/streams/index.html" target="_blank" rel="noopener noreferrer">Aggregate Operations<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>-探索聚合操作、流和Lambda表达式如何协同工作以提供强大的过滤功能。</li> <li><a href="https://docs.oracle.com/javase/tutorial/deployment/jar/index.html" target="_blank" rel="noopener noreferrer">JAR文件中的打包程序<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>-关于创建和签名JAR文件的课程。</li> <li><a href="https://docs.oracle.com/javase/tutorial/i18n/index.html" target="_blank" rel="noopener noreferrer">国际化<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>-介绍如何设计软件，使其易于适应(本地化)各种语言和区域。</li> <li><a href="https://docs.oracle.com/javase/tutorial/reflect/index.html" target="_blank" rel="noopener noreferrer">反射<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>-表示(“反映”)当前Java虚拟机中的类、接口和对象的API。</li> <li><a href="https://docs.oracle.com/javase/tutorial/security/index.html" target="_blank" rel="noopener noreferrer">安全<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>-Java平台功能，帮助保护应用程序免受恶意软件的攻击。</li> <li><a href="https://docs.oracle.com/javase/tutorial/javabeans/index.html" target="_blank" rel="noopener noreferrer">JavaBeans<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>-Java平台的组件技术。</li> <li><a href="https://docs.oracle.com/javase/tutorial/ext/index.html" target="_blank" rel="noopener noreferrer">扩展机制<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>-如何使自定义API对在Java平台上运行的所有应用程序可用。</li> <li><a href="https://docs.oracle.com/javase/tutorial/extra/generics/index.html" target="_blank" rel="noopener noreferrer">泛型<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>-增强类型系统，支持对各种类型对象的操作，同时提供编译时类型安全。</li></ul> <h4 id="服务端"><a href="#服务端" class="header-anchor">#</a> 服务端</h4> <ul><li><a href="https://docs.oracle.com/javase/tutorial/jdbc/index.html" target="_blank" rel="noopener noreferrer">JDBC数据库访问<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>-介绍了一个API，用于Java应用程序与广泛的数据库和数据源之间的连接。</li> <li><a href="https://docs.oracle.com/javase/tutorial/jmx/index.html" target="_blank" rel="noopener noreferrer">JMX<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>-Java管理扩展提供了管理应用程序、设备和服务等资源的标准方法。</li> <li><a href="https://docs.oracle.com/javase/tutorial/jndi/index.html" target="_blank" rel="noopener noreferrer">JNDI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>-Java命名和目录接口允许访问命名和目录服务(如DNS和LDAP)。</li> <li><a href="https://docs.oracle.com/javase/tutorial/jaxp/index.html" target="_blank" rel="noopener noreferrer">JAXP<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>-介绍JavaAPIforXML处理(JAXP)1.4技术。</li> <li><a href="https://docs.oracle.com/javase/tutorial/rmi/index.html" target="_blank" rel="noopener noreferrer">RMI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>-远程方法调用API允许对象调用运行在另一个Java虚拟机上的对象的方法。</li> <li><a href="https://docs.oracle.com/javase/tutorial/essential/concurrency/index.html" target="_blank" rel="noopener noreferrer">并发性<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>-Java平台有API来帮助您开发多线程程序。</li></ul> <h4 id="lambda表达式"><a href="#lambda表达式" class="header-anchor">#</a> <strong>Lambda表达式</strong></h4> <p>匿名类的一个问题是，如果您的匿名类的实现非常简单，比如只包含一个方法的接口，那么匿名类的语法可能会显得笨拙和不明确。在这些情况下，您通常尝试将功能作为参数传递给另一个方法，例如当某人单击按钮时应该采取什么操作。Lambda表达式使您能够这样做，将功能视为方法参数，或将代码视为数据。</p> <p>虽然这通常比命名类更简洁，但是对于只有一种方法的类来说，即使是匿名类似乎也有点过分和麻烦。Lambda表达式允许您更简洁地表示单方法类的实例。</p> <h6 id="一个搜索用例演示"><a href="#一个搜索用例演示" class="header-anchor">#</a> 一个搜索用例演示</h6> <table><thead><tr><th>Field</th> <th>Description</th></tr></thead> <tbody><tr><td>用例名称</td> <td>对选定成员执行操作</td></tr> <tr><td>系统参与者</td> <td>管理员</td></tr> <tr><td>前置条件</td> <td>管理员登录到系统</td></tr> <tr><td>后置条件</td> <td>仅对符合指定标准的成员执行操作</td></tr> <tr><td>执行步骤</td> <td>1.管理员指定要对其执行特定操作的成员的标准</td></tr> <tr><td></td> <td>2.管理员指定要对选定成员执行的操作</td></tr> <tr><td></td> <td>3.管理员选择<strong>提交</strong>按钮</td></tr> <tr><td></td> <td>4.系统查找所有符合指定标准的成员</td></tr> <tr><td></td> <td>5.系统对所有匹配的成员执行指定的操作</td></tr> <tr><td>扩展</td> <td>1A.管理员可以选择在指定要执行的操作之前或在选择<strong>提交</strong>按钮。</td></tr> <tr><td>发生频率</td> <td>白天很多次。</td></tr></tbody></table> <ul><li><a href="https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html#approach4" target="_blank" rel="noopener noreferrer">方法1：在匿名类中指定搜索标准代码<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html#approach5" target="_blank" rel="noopener noreferrer">方法2：使用Lambda表达式指定搜索条件代码<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html#approach6" target="_blank" rel="noopener noreferrer">方法3：使用标准函数接口和Lambda表达式<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html#approach7" target="_blank" rel="noopener noreferrer">方法4：在整个应用程序中使用Lambda表达式<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html#approach8" target="_blank" rel="noopener noreferrer">方法5：更广泛地使用泛型<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html#approach9" target="_blank" rel="noopener noreferrer">方法6：使用接受Lambda表达式作为参数的聚合操作<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Sex</span> <span class="token punctuation">{</span>
        MALE<span class="token punctuation">,</span> FEMALE
    <span class="token punctuation">}</span>

    <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token class-name">LocalDate</span> birthday<span class="token punctuation">;</span>
    <span class="token class-name">Sex</span> gender<span class="token punctuation">;</span>
    <span class="token class-name">String</span> emailAddress<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">printPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">interface</span> <span class="token class-name">CheckPerson</span> <span class="token punctuation">{</span>
    <span class="token keyword">boolean</span> <span class="token function">checkAgeRange</span><span class="token punctuation">(</span><span class="token class-name">Person</span> person<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">printPersons</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> roster<span class="token punctuation">,</span> <span class="token class-name">CheckPerson</span> conditon<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Person</span> person <span class="token operator">:</span> roster<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>conditon<span class="token punctuation">.</span><span class="token function">checkAgeRange</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            person<span class="token punctuation">.</span><span class="token function">printPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h5 id="方法1-在匿名类中指定搜索标准代码"><a href="#方法1-在匿名类中指定搜索标准代码" class="header-anchor">#</a> <strong>方法1：在匿名类中指定搜索标准代码</strong></h5> <p>调用的参数之一<code>printPersons</code>是一个匿名类，过滤有资格在美国接受选择性服务的成员：男性和年龄在18至25岁之间的人</p> <blockquote><p>Note: 这种方法减少了所需的代码量，因为您不必为要执行的每个搜索创建一个新的类。但是，考虑到<code>CheckPerson</code>接口只包含一个方法。在本例中，可以使用lambda表达式而不是匿名类</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">printPersons</span><span class="token punctuation">(</span>roster<span class="token punctuation">,</span>
             <span class="token keyword">new</span> <span class="token class-name">CheckPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                 <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">checkAgeRange</span><span class="token punctuation">(</span><span class="token class-name">Person</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                     <span class="token keyword">return</span> p<span class="token punctuation">.</span><span class="token function">getGender</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token class-name">Sex</span><span class="token punctuation">.</span>MALE
                            <span class="token operator">&amp;&amp;</span> p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">18</span>
                            <span class="token operator">&amp;&amp;</span> p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">25</span><span class="token punctuation">;</span>
                 <span class="token punctuation">}</span>
             <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h5 id="方法2-使用标准函数接口和lambda表达式"><a href="#方法2-使用标准函数接口和lambda表达式" class="header-anchor">#</a> <strong>方法2：使用标准函数接口和Lambda表达式</strong></h5> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// Predicate&lt;Person&gt; 是标准函数泛型接口</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">printPersons</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> roster<span class="token punctuation">,</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> checker<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Person</span> p <span class="token operator">:</span> roster<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>checker<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            p<span class="token punctuation">.</span><span class="token function">printPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// How use it？</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span>  args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">printPersonsWithPredicate</span><span class="token punctuation">(</span>roster<span class="token punctuation">,</span>
                              p <span class="token operator">-&gt;</span> p<span class="token punctuation">.</span><span class="token function">getGender</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token class-name">Sex</span><span class="token punctuation">.</span>MALE
                                  <span class="token operator">&amp;&amp;</span> p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">18</span>
                                  <span class="token operator">&amp;&amp;</span> p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h6 id="标准函数接口-比较常用-更多参考java-util-function包"><a href="#标准函数接口-比较常用-更多参考java-util-function包" class="header-anchor">#</a> 标准函数接口(比较常用，更多参考java.util.function包)</h6> <ul><li>Consumer：表示一个接受单个输入参数且不返回结果的操作。与大多数其他功能接口不同，Consumer通过side-effection进行操作</li> <li>Function：表示一个接受一个参数并产生结果的函数</li> <li>Predicate：表示一个参数的谓词（布尔值函数）</li></ul> <h5 id="方法3-在整个应用程序中使用lambda表达式"><a href="#方法3-在整个应用程序中使用lambda表达式" class="header-anchor">#</a> 方法3：在整个应用程序中使用Lambda表达式</h5> <blockquote><p>假设您想要一个类似于<code>printPerson</code>，接受一个参数的人(一个类型的对象)<code>Person</code>)并返回无效。记住，要使用lambda表达式，您需要实现一个功能接口。在这种情况下，您需要一个函数接口，该接口包含可以接受一个类型参数的抽象方法。<code>Person</code>并返回无效。这个<code>Consumer&lt;T&gt;</code>接口包含方法。<code>void accept(T t)</code>，具有这些特性。下面的方法替换调用<code>p.printPerson()</code>的实例<code>Consumer&lt;Person&gt;</code>调用方法的<code>accept</code>:</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// invoked method</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">processPersons</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> roster<span class="token punctuation">,</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> checker<span class="token punctuation">,</span>
        <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> block<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Person</span> p <span class="token operator">:</span> roster<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>checker<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                block<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// How use it?</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">processPersons</span><span class="token punctuation">(</span>roster<span class="token punctuation">,</span>
               <span class="token comment">// 过滤操作</span>
               p <span class="token operator">-&gt;</span> p<span class="token punctuation">.</span><span class="token function">getGender</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token class-name">Sex</span><span class="token punctuation">.</span>MALE
               <span class="token operator">&amp;&amp;</span> p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">18</span>
               <span class="token operator">&amp;&amp;</span> p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">25</span><span class="token punctuation">,</span>
               <span class="token comment">// 对过滤的数据进行操作</span>
               p <span class="token operator">-&gt;</span> p<span class="token punctuation">.</span><span class="token function">printPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><blockquote><p>如果你想对会员的个人资料做更多的事情，而不是打印出来，那该怎么办呢？假设您想验证成员的配置文件或检索他们的联系信息？在这种情况下，您需要一个函数接口，它包含一个返回值的抽象方法。这个<code>Function&lt;T,R&gt;</code>接口包含方法。<code>R apply(T t)</code>。以下方法检索参数指定的数据<code>mapper</code>，然后对其执行由参数指定的操作</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">processPersons</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> roster<span class="token punctuation">,</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> checker<span class="token punctuation">,</span>
                                      <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> mapper<span class="token punctuation">,</span>
                                      <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> block<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Person</span> person <span class="token operator">:</span> roster<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>checker<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> data <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
            block<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// How use it?</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">processPersonsWithFunction</span><span class="token punctuation">(</span>roster<span class="token punctuation">,</span>
                               <span class="token comment">// 过滤函数接口</span>
                               p <span class="token operator">-&gt;</span> p<span class="token punctuation">.</span><span class="token function">getGender</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token class-name">Sex</span><span class="token punctuation">.</span>MALE
                                   <span class="token operator">&amp;&amp;</span> p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">18</span>
                                   <span class="token operator">&amp;&amp;</span> p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">25</span><span class="token punctuation">,</span>
                               <span class="token comment">// 映射函数接口</span>
                               p <span class="token operator">-&gt;</span> p<span class="token punctuation">.</span><span class="token function">getEmailAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                               <span class="token comment">// 操作</span>
                               email <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h5 id="方法4-更广泛地使用泛型"><a href="#方法4-更广泛地使用泛型" class="header-anchor">#</a> 方法4：更广泛地使用泛型</h5> <p>作为参数接受包含任何数据类型元素的集合</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 泛型方法</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">X</span><span class="token punctuation">,</span> <span class="token class-name">Y</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">void</span> <span class="token function">processElements</span><span class="token punctuation">(</span><span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">X</span><span class="token punctuation">&gt;</span></span> source<span class="token punctuation">,</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">X</span><span class="token punctuation">&gt;</span></span> checker<span class="token punctuation">,</span>
                                          <span class="token class-name">Function</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">X</span><span class="token punctuation">,</span> <span class="token class-name">Y</span><span class="token punctuation">&gt;</span></span> mapper<span class="token punctuation">,</span>
                                          <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Y</span><span class="token punctuation">&gt;</span></span> block<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">X</span> p <span class="token operator">:</span> source<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>checker<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Y</span> data <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
            block<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// How we use it?</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">processElements</span><span class="token punctuation">(</span>roster<span class="token punctuation">,</span>
                    p <span class="token operator">-&gt;</span> p<span class="token punctuation">.</span><span class="token function">getGender</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token class-name">Sex</span><span class="token punctuation">.</span>MALE
                        <span class="token operator">&amp;&amp;</span> p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">18</span>
                        <span class="token operator">&amp;&amp;</span> p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">25</span><span class="token punctuation">,</span>
                    p <span class="token operator">-&gt;</span> p<span class="token punctuation">.</span><span class="token function">getEmailAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    email <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><blockquote><p>此方法调用执行以下操作：</p> <ol><li>从集合中获取对象的源。<code>source</code>。在本例中，它获得了<code>Person</code>对象的集合。<code>roster</code>。注意集合<code>roster</code>，它是类型的集合。<code>List</code>，也是类型的对象。<code>Iterable</code>.</li> <li>筛选匹配<code>Predicate</code>对象checker<code>。在本例中，</code>Predicate`对象是一个lambda表达式，它指定哪些成员有资格获得选择性服务。</li> <li>将每个筛选对象映射到由<code>Function</code>对象<code>mapper</code>。在本例中，<code>Function</code>对象是一个lambda表达式，它返回成员的电子邮件地址。</li> <li>对每个映射对象执行由<code>Consumer</code>对象<code>block</code>。在本例中，<code>Consumer</code>对象是一个lambda表达式，它打印一个字符串，该字符串是由<code>Function</code>对象。</li></ol></blockquote> <h5 id="方法5-使用接受lambda表达式作为参数的聚合操作"><a href="#方法5-使用接受lambda表达式作为参数的聚合操作" class="header-anchor">#</a> 方法5：使用接受Lambda表达式作为参数的聚合操作</h5> <p>下面的示例使用聚合操作打印集合中包含的成员的电子邮件地址。<code>roster</code>符合选择服务资格的人：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">processPersons</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> roster<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    roster<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>p <span class="token operator">-&gt;</span> p<span class="token punctuation">.</span><span class="token function">getGender</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token class-name">Sex</span><span class="token punctuation">.</span>MALE 
              <span class="token operator">&amp;&amp;</span> p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">18</span> 
              <span class="token operator">&amp;&amp;</span> p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">25</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>p <span class="token operator">-&gt;</span> p<span class="token punctuation">.</span><span class="token function">getEmailAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>email <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>以下是流的简单操作方法</p> <table><thead><tr><th>操作</th> <th>描述</th></tr></thead> <tbody><tr><td>Stream stream()</td> <td>获取流对象</td></tr> <tr><td>Stream filter(Predicate&lt;? super T&gt; predicate)</td> <td>通过<code>Predicate</code>对象筛选匹配</td></tr> <tr><td>Stream map(Function&lt;? super T,? extends R&gt; mapper)</td> <td>通过映射函数将对象和结果映射</td></tr> <tr><td>void forEach(Consumer&lt;? super T&gt; action)</td> <td>执行由<code>Consumer</code>对象的方法</td></tr></tbody></table> <p>更多方法参考<code>java.util.stream</code></p> <h5 id="接口的默认方法和静态方法"><a href="#接口的默认方法和静态方法" class="header-anchor">#</a> 接口的默认方法和静态方法</h5> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IDefaultStatic</span> <span class="token punctuation">{</span>

	<span class="token comment">// default : public abstract</span>
	<span class="token keyword">double</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// abstract method </span>
	
	<span class="token comment">// default method</span>
	<span class="token comment">// access: object.sqrt(a);</span>
	<span class="token keyword">default</span> <span class="token keyword">double</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">//static method</span>
	<span class="token comment">//access: interfaceName.message();</span>
	<span class="token comment">//access: object.message();</span>
	<span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;static method&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Calculator</span> <span class="token keyword">implements</span> <span class="token class-name">IDefaultStatic</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//实现接口中的抽象方法</span>

		<span class="token keyword">return</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//回调 接口中的默认方法</span>
	<span class="token punctuation">}</span>
	

	<span class="token comment">//可以重写默认方法</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token number">23</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code>测试代码<span class="token operator">:</span>
<span class="token class-name">Calculator</span> calculator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Calculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>calculator<span class="token punctuation">.</span><span class="token function">calculate</span><span class="token punctuation">(</span><span class="token number">34</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//对象调用</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">IDefaultStatic</span><span class="token punctuation">.</span><span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//接口调用</span>

测试结果<span class="token operator">:</span>
<span class="token number">23.0</span>
<span class="token keyword">static</span> method
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h5 id="lambda表达式-2"><a href="#lambda表达式-2" class="header-anchor">#</a> Lambda表达式</h5> <p>(参数列表) -&gt; { 方法主体 }</p> <p>当只有一个形参时，括号省略。</p> <p>当只有一个形参和一个执行语句，括号，{} ，return 可省略</p> <p>没有参数:   ()-&gt;{ statement};</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//使用lambda表达式遍历随机数组</span>
<span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token punctuation">]</span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">parallelSetAll</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> i <span class="token operator">-&gt;</span> <span class="token class-name">ThreadLocalRandom</span><span class="token punctuation">.</span><span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>x<span class="token operator">-&gt;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">print</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//方法引用</span>
<span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token operator">-&gt;</span>a<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//方法引用</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>ThreadLocalRandom : 随机数生成器隔离到当前线程。
与java.lang.Math类使用的全局java.util.Random生成器一样，ThreadLocalRandom使用内部生成的种子进行初始化，否则可能无法修改。
适用时，在并发程序中使用ThreadLocalRandom和共享Random对象通常会遇到更少的开销和争用。
当多个任务（例如，每个ForkJoinTask）在线程池中并行使用随机数时，使用ThreadLocalRandom是特别合适的。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h5 id="函数式接口"><a href="#函数式接口" class="header-anchor">#</a> 函数式接口</h5> <p>函数式接口的出现是为了更好的支持Lambda表达式的使用。</p> <p>实质:一个有且仅有一个抽象方法的普通接口。(使用@Functional Interface注解)</p> <p>可以定义默认方法和静态方法(它们不属于抽象方法)</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">FIConverter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">F</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

	<span class="token class-name">T</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">F</span> from<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//有且仅有一个抽象方法</span>
	
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h6 id="方法引用"><a href="#方法引用" class="header-anchor">#</a> 方法引用</h6> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//传统方式</span>
<span class="token class-name">FIConverter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> converter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FIConverter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					
		<span class="token annotation punctuation">@Override</span>
		<span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">String</span> from<span class="token punctuation">)</span> <span class="token punctuation">{</span>
						
			<span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>from<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Integer</span> a <span class="token operator">=</span> converter<span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span><span class="token string">&quot;223&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	    
<span class="token comment">//使用lambda表达式实现函数式接口</span>
<span class="token class-name">FIConverter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> co <span class="token operator">=</span> <span class="token punctuation">(</span>from<span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>from<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Integer</span> b <span class="token operator">=</span> co<span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span><span class="token string">&quot;3232&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token operator">+</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
	    
<span class="token comment">//::方法引用</span>
<span class="token class-name">FIConverter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> f <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">valueOf</span><span class="token punctuation">;</span>
<span class="token class-name">Integer</span> c <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span><span class="token string">&quot;34567&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h6 id="构造引用"><a href="#构造引用" class="header-anchor">#</a> 构造引用</h6> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Product</span><span class="token punctuation">{</span>
    <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">int</span> quantity<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> quantity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>quantity <span class="token operator">=</span> quantity<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Product [name=&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;, quantity=&quot;</span> <span class="token operator">+</span> quantity <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token comment">// end Product class</span>

<span class="token keyword">class</span> <span class="token class-name">ChildProduct</span> <span class="token keyword">extends</span> <span class="token class-name">Product</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">ChildProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">ChildProduct</span><span class="token punctuation">(</span><span class="token class-name">String</span> name <span class="token punctuation">,</span> <span class="token keyword">int</span> quantity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span>quantity <span class="token operator">=</span> quantity<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;ChildProduct [name=&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;, quantity=&quot;</span> <span class="token operator">+</span> quantity <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token comment">// end ChildProduct class</span>


<span class="token comment">//函数式接口</span>
<span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">interface</span> <span class="token class-name">ProductFactory</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">P</span> <span class="token keyword">extends</span> <span class="token class-name">Product</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>
    <span class="token class-name">P</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> quantity<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token annotation punctuation">@Test</span><span class="token comment">//对构造方法进行引用</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testConstructorMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token class-name">ProductFactory</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Product</span><span class="token punctuation">&gt;</span></span>  productFactory <span class="token operator">=</span> <span class="token class-name">Product</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">;</span>
    <span class="token class-name">Product</span> p <span class="token operator">=</span> productFactory<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">&quot;Miller&quot;</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">ProductFactory</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ChildProduct</span><span class="token punctuation">&gt;</span></span> childFactory <span class="token operator">=</span> <span class="token class-name">ChildProduct</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">;</span>
    <span class="token class-name">ChildProduct</span> c <span class="token operator">=</span> childFactory<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">&quot;VIRIYA&quot;</span><span class="token punctuation">,</span> <span class="token number">789</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><p>测试结果:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Product [name=Miller, quantity=123]
ChildProduct [name=VIRIYA, quantity=789]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="base64编码"><a href="#base64编码" class="header-anchor">#</a> Base64编码</h5> <p>Base64工具类提供了一套静态方法获取MEMI,URL,Basic三种Base64解码器和编码器。</p> <h5 id="并行数组"><a href="#并行数组" class="header-anchor">#</a> 并行数组</h5> <p>Arrays提供的并行数组流进行分组，过滤和对数组并行排序。</p> <p>以上特性都支持Lambda表达式。</p> <h5 id="格式化处理"><a href="#格式化处理" class="header-anchor">#</a> 格式化处理</h5> <p>数字格式化:NumberFormat.getNumberInstance(Locale locale)</p> <p>货币格式化:NumberFormat.getCurrencyInstance(Locale locale)</p> <p>日期格式化:</p> <p>1.DateFormat</p> <p>2.DateTimeFormatter</p> <p>消息格式化:MessageFormat</p> <h4 id="lambda表达式的语法"><a href="#lambda表达式的语法" class="header-anchor">#</a> Lambda表达式的语法</h4> <p>lambda表达式由下列三部分组成</p> <ul><li><p>括号内用逗号分隔的形式参数列表</p> <ul><li>单个参数可省略括号</li></ul></li> <li><p>箭符，<code>-&gt;</code></p></li> <li><p>主体，由单个表达式或语句块组成</p></li></ul> <blockquote><p>注意：返回语句不是表达式；在lambda表达式中，必须用大括号将语句括起来(<code>{}</code>)</p> <p>在lambda表达式中可以访问包围作用域的局部变量</p></blockquote> <h5 id="使用lambda表达式的范围"><a href="#使用lambda表达式的范围" class="header-anchor">#</a> 使用lambda表达式的范围：</h5> <ul><li>变量声明</li> <li>赋值</li> <li>返回语句</li> <li>数组初始化器</li> <li>方法或构造函数参数</li> <li>Lambda表达体</li> <li>条件表达式，<code>?:</code></li> <li>CAST表达</li></ul> <h4 id="何时使用嵌套类、本地类、匿名类和lambda表达式"><a href="#何时使用嵌套类、本地类、匿名类和lambda表达式" class="header-anchor">#</a> 何时使用嵌套类、本地类、匿名类和Lambda表达式？</h4> <p>嵌套类使您能够对只在一个地方使用的类进行逻辑分组，增加封装的使用，并创建更具可读性和可维护性的代码。本地类、匿名类和lambda表达式也具有这些优点；但是，它们打算用于更具体的情况：</p> <ul><li><a href="https://docs.oracle.com/javase/tutorial/java/javaOO/localclasses.html" target="_blank" rel="noopener noreferrer">局部类<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>：如果您需要创建一个类的多个实例，访问它的构造函数，或者引入一个新的命名类型(例如，您以后需要调用其他方法)，就可以使用它。</li> <li><a href="https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html" target="_blank" rel="noopener noreferrer">匿名类<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>：如果需要声明字段或其他方法，请使用它。</li> <li><a href="https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html" target="_blank" rel="noopener noreferrer">Lambda表达<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:
<ul><li>如果您正在封装要传递给其他代码的单个行为单元，请使用它。例如，如果希望对集合中的每个元素、流程完成或进程遇到错误时执行特定操作，则可以使用lambda表达式。</li> <li>如果您需要一个函数接口的简单实例，而前面的任何条件都不适用(例如，您不需要构造函数、命名类型、字段或其他方法)，请使用它。</li></ul></li> <li><a href="https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html" target="_blank" rel="noopener noreferrer">内部类<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ：如果您的需求与本地类的需求相似，您希望使该类型更广泛可用，并且不需要访问局部变量或方法参数，则可以使用它。
<ul><li>如果需要访问包含实例的非公共字段和方法，则使用非静态嵌套类(或内部类)。如果不需要这种访问，则使用静态嵌套类。</li></ul></li></ul> <h4 id="国际化-2"><a href="#国际化-2" class="header-anchor">#</a> 国际化</h4> <ol><li><h6 id="创建默认属性文件"><a href="#创建默认属性文件" class="header-anchor">#</a> 创建默认属性文件</h6></li></ol> <p>​       默认属性文件，称为<code>MessagesBundle.properties</code>，包含以下行：</p> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token attr-name">greetings</span> <span class="token punctuation">=</span> <span class="token attr-value">Hello</span>
<span class="token attr-name">farewell</span> <span class="token punctuation">=</span> <span class="token attr-value">Goodbye</span>
<span class="token attr-name">inquiry</span> <span class="token punctuation">=</span> <span class="token attr-value">How are you?</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>现在消息在属性文件中，它们可以被翻译成各种语言。不需要更改源代码。法语翻译已经创建了一个名为<code>MessagesBundle_fr_FR.properties</code>，其中包含以下行：</p> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token attr-name">greetings</span> <span class="token punctuation">=</span> <span class="token attr-value">Bonjour.</span>
<span class="token attr-name">farewell</span> <span class="token punctuation">=</span> <span class="token attr-value">Au revoir.</span>
<span class="token attr-name">inquiry</span> <span class="token punctuation">=</span> <span class="token attr-value">Comment allez-vous?</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li><h6 id="界定地区-locale"><a href="#界定地区-locale" class="header-anchor">#</a> 界定地区(Locale)</h6></li></ol> <p>​       这个<code>Locale</code>对象标识特定的语言和国家</p> <p>​       示例创建<code>Locale</code>加拿大和法国法语：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Locale</span> caLocale <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span><span class="token string">&quot;fr&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;CA&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Locale</span> frLocale <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span><span class="token string">&quot;fr&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;FR&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="3"><li><h6 id="创建一个resourcebundle"><a href="#创建一个resourcebundle" class="header-anchor">#</a> 创建一个ResourceBundle</h6></li></ol> <p>​       <code>ResourceBundle</code>对象包含特定于地区的对象。你用<code>ResourceBundle</code>对象来隔离对区域设置敏感的数据，例如可翻译文本</p> <p>ResourceBundle创建如下：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ResourceBundle</span> messages <span class="token operator">=</span> <span class="token class-name">ResourceBundle</span><span class="token punctuation">.</span><span class="token function">getBundle</span><span class="token punctuation">(</span><span class="token string">&quot;MessagesBundle&quot;</span><span class="token punctuation">,</span> currentLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>传递给<code>getBundle</code>方法标识将访问哪个属性文件。第一个步骤，<code>MessagesBundle</code>，引用此系列属性文件：</p> <blockquote><p>MessagesBundle_en_US.properties
MessagesBundle_fr_FR.properties
MessagesBundle_de_DE.properties</p></blockquote> <p>这个<code>Locale</code>的第二个步骤<code>getBundle</code>，指定<code>MessagesBundle</code>选择文件。当<code>Locale</code>创建时，语言代码和国家代码被传递给它的构造函数。请注意，语言和国家代码如下<code>MessagesBundle</code>在属性文件的名称中。</p> <ol start="4"><li><h6 id="从resourcebundle获取文本"><a href="#从resourcebundle获取文本" class="header-anchor">#</a> 从ResourceBundle获取文本</h6></li></ol> <p>属性文件包含键值对。这些值由程序将显示的翻译文本组成。从<code>ResourceBundle</code>带着<code>getString</code>方法。例如，要检索由问候键标识的消息，可以调用<code>getString</code>详情如下：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> greetingsTranfedMessage <span class="token operator">=</span> messages<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;greetings&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="格式化-预定义格式通过locale-转换成不同地区的格式"><a href="#格式化-预定义格式通过locale-转换成不同地区的格式" class="header-anchor">#</a> 格式化（预定义格式通过Locale，转换成不同地区的格式）</h4> <blockquote><p>如何格式化数字、货币、日期、时间和文本消息。因为最终用户可以看到这些数据元素，它们的格式必须符合各种文化习俗</p></blockquote> <p>它可以做哪些事？</p> <ul><li>以区分区域设置的方式格式化数据元素</li> <li>保持代码区域无关</li> <li>避免编写特定区域设置的格式化例程。</li></ul> <p>格式化一般用于数字，货币，日期时间，它有哪些类可以处理相应格式化的需求？</p> <ul><li><p>数字货币：NumberFormat<code>,</code>DecimalFormat<code>，和</code>DecimalFormatSymbols。</p></li> <li><p>日期时间：DateFormat<code>,</code>SimpleDateFormat<code>，和</code>DateFormatSymbols</p></li></ul> <h4 id="数字与货币"><a href="#数字与货币" class="header-anchor">#</a> 数字与货币</h4> <p>程序以独立于地区的方式对数字进行存储和操作。在显示或打印数字之前，程序必须将其转换为<code>String</code>这是一种区分区域设置的格式。</p> <p>例如，在法国，数字123456.78应该被格式化为123 456，78，而在德国，它应该是123.456，78。在本节中，您将了解如何使程序独立于小数点、数千分隔符和其他格式化属性的区域设置约定。</p> <p><strong>使用<code>NumberFormat</code>类，您可以获得特定于地区的数字、货币和百分比格式。</strong></p> <p>通过调用<a href="https://docs.oracle.com/javase/8/docs/api/java/text/NumberFormat.html" target="_blank" rel="noopener noreferrer"><code>NumberFormat</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>类，可以根据以下内容设置数字、货币和百分比的格式：[<code>Locale</code>]</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">displayNumber</span><span class="token punctuation">(</span><span class="token class-name">Locale</span> currentLocale<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token class-name">Integer</span> quantity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">123456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Double</span> amount <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Double</span><span class="token punctuation">(</span><span class="token number">345987.246</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">NumberFormat</span> numberFormatter<span class="token punctuation">;</span>
    <span class="token class-name">String</span> quantityOut<span class="token punctuation">;</span>
    <span class="token class-name">String</span> amountOut<span class="token punctuation">;</span>

    numberFormatter <span class="token operator">=</span> <span class="token class-name">NumberFormat</span><span class="token punctuation">.</span><span class="token function">getNumberInstance</span><span class="token punctuation">(</span>currentLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>
    quantityOut <span class="token operator">=</span> numberFormatter<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>quantity<span class="token punctuation">)</span><span class="token punctuation">;</span>
    amountOut <span class="token operator">=</span> numberFormatter<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>quantityOut <span class="token operator">+</span> <span class="token string">&quot;   &quot;</span> <span class="token operator">+</span> currentLocale<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>amountOut <span class="token operator">+</span> <span class="token string">&quot;   &quot;</span> <span class="token operator">+</span> currentLocale<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>如果您正在编写业务应用程序，则可能需要格式化和显示货币。与数字相同的方式格式化货币，但您调用的除外。若要创建格式化程序<a href="https://docs.oracle.com/javase/8/docs/api/java/text/NumberFormat.html#getCurrencyInstance-java.util.Locale-" target="_blank" rel="noopener noreferrer"><code>getCurrencyInstance</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，请执行以下操作。调用<a href="https://docs.oracle.com/javase/8/docs/api/java/text/NumberFormat.html#format-double-" target="_blank" rel="noopener noreferrer"><code>format</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>方法，则返回<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" target="_blank" rel="noopener noreferrer"><code>String</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>这包括格式化的数字和适当的货币符号。</p> <p>代码示例演示如何以特定于地区的方式格式化货币：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">displayCurrency</span><span class="token punctuation">(</span> <span class="token class-name">Locale</span> currentLocale<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token class-name">Double</span> currencyAmount <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Double</span><span class="token punctuation">(</span><span class="token number">9876543.21</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Currency</span> currentCurrency <span class="token operator">=</span> <span class="token class-name">Currency</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span>currentLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">NumberFormat</span> currencyFormatter <span class="token operator">=</span> 
        <span class="token class-name">NumberFormat</span><span class="token punctuation">.</span><span class="token function">getCurrencyInstance</span><span class="token punctuation">(</span>currentLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>currentLocale<span class="token punctuation">.</span><span class="token function">getDisplayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span>
        currentCurrency<span class="token punctuation">.</span><span class="token function">getDisplayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span>
        currencyFormatter<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>currencyAmount<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>[<code>NumberFormat</code>]类不知道汇率类的方法。<a href="https://docs.oracle.com/javase/8/docs/api/java/text/NumberFormat.html" target="_blank" rel="noopener noreferrer"><code>NumberFormat</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>类格式化货币，但不通过汇率来转换它们</p> <blockquote><p>法文 (法国), 欧元: 9 876 543,21 €</p></blockquote> <h4 id="百分比"><a href="#百分比" class="header-anchor">#</a> 百分比</h4> <p>还可以使用<a href="https://docs.oracle.com/javase/8/docs/api/java/text/NumberFormat.html" target="_blank" rel="noopener noreferrer"><code>NumberFormat</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>类设置百分比的格式。若要获取特定于区域设置的格式化程序，请调用<a href="https://docs.oracle.com/javase/8/docs/api/java/text/NumberFormat.html#getPercentInstance-java.util.Locale-" target="_blank" rel="noopener noreferrer"><code>getPercentInstance</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>方法。对于此格式化程序，小数(如0.75)将显示为75%。</p> <p>代码示例演示如何格式化百分比(<strong>percent</strong>)：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">displayPercent</span><span class="token punctuation">(</span><span class="token class-name">Locale</span> currentLocale<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token class-name">Double</span> percent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Double</span><span class="token punctuation">(</span><span class="token number">0.75</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">NumberFormat</span> percentFormatter<span class="token punctuation">;</span>
    <span class="token class-name">String</span> percentOut<span class="token punctuation">;</span>

    percentFormatter <span class="token operator">=</span> <span class="token class-name">NumberFormat</span><span class="token punctuation">.</span><span class="token function">getPercentInstance</span><span class="token punctuation">(</span>currentLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>
    percentOut <span class="token operator">=</span> percentFormatter<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>percent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>percentOut <span class="token operator">+</span> <span class="token string">&quot;   &quot;</span> <span class="token operator">+</span> currentLocale<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>75%   en_EN</p></blockquote> <h4 id="用模版格式化"><a href="#用模版格式化" class="header-anchor">#</a> 用模版格式化</h4> <p><code>String</code>模版带着<code>DecimalFormat</code>类指定数字的格式。这个<code>DecimalFormatSymbols</code>类允许您修改格式符号，例如小数分隔符和减号</p> <p>可以使用<code>DecimalFormat</code>类将十进制数字格式化为特定于地区的字符串。这个类允许您控制前导和尾随零、前缀和后缀、分组(千)分隔符和十进制分隔符的显示。如果要更改格式符号(例如十进制分隔符)，则可以使用<code>DecimalFormatSymbols</code>与<code>DecimalFormat</code>类。这些类在数字格式方面提供了很大的灵活性，但它们可以使代码更加复杂。</p> <h5 id="构造模式"><a href="#构造模式" class="header-anchor">#</a> 构造模式</h5> <p><code>DecimalFormat</code>有<code>String</code>模板。模式决定格式化的数字是什么样子</p> <h6 id="数字格式模式语法"><a href="#数字格式模式语法" class="header-anchor">#</a> 数字格式模式语法</h6> <p>通过遵循以下BNF图指定的规则，您可以为数字设计自己的格式模式：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>pattern    := subpattern{;subpattern}

subpattern := {prefix}integer{.fraction}{suffix}

prefix     := '\\u0000'..'\\uFFFD' - specialCharacters
suffix     := '\\u0000'..'\\uFFFD' - specialCharacters
integer    := '#'* '0'* '0'
fraction   := '0'* '#'*
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><table><thead><tr><th>表示方法</th> <th>描述</th></tr></thead> <tbody><tr><td><code>X*</code></td> <td>X的0或多个实例</td></tr> <tr><td><code>(X | Y)</code></td> <td>X或Y</td></tr> <tr><td><code>X..Y</code></td> <td>从X到Y的任何字符</td></tr> <tr><td><code>S - T</code></td> <td>S中的字符，但T中的字符除外</td></tr> <tr><td><code>{X}</code></td> <td>X是可选的</td></tr></tbody></table> <p>在子模式中，使用特殊符号指定格式。下表描述了这些符号：</p> <table><thead><tr><th>符号</th> <th>描述</th></tr></thead> <tbody><tr><td>0</td> <td>数字</td></tr> <tr><td>#</td> <td>数字，零表示缺席</td></tr> <tr><td>.</td> <td>十进制分隔符占位符</td></tr> <tr><td>,</td> <td>用于分组分隔符的占位符</td></tr> <tr><td>E</td> <td>指数格式的尾数和指数的分离</td></tr> <tr><td>;</td> <td>分离格式</td></tr> <tr><td>-</td> <td>默认负前缀</td></tr> <tr><td>%</td> <td>乘以100并显示为百分比</td></tr> <tr><td>?</td> <td>乘以1000并显示为每毫升</td></tr> <tr><td>¤</td> <td>货币符号；被货币符号取代；如果是双倍，则由国际货币符号取代；如果以模式形式出现，则使用货币小数分隔符代替十进制分隔符。</td></tr> <tr><td>X</td> <td>任何其他字符都可以在前缀或后缀中使用。</td></tr> <tr><td>'</td> <td>用于引用前缀或后缀中的特殊字符。</td></tr></tbody></table> <p>下面的示例通过传递模式创建格式化程序。<code>String</code>到<code>DecimalFormat</code>构造函数这个<code>format</code>方法接受<code>double</code>值作为参数，并返回<code>String</code>:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> pattern  <span class="token operator">=</span> <span class="token string">&quot;000000.##&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Double</span> value <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Double</span><span class="token punctuation">(</span><span class="token string">&quot;2344.3456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">DecimalFormat</span> myFormatter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> output <span class="token operator">=</span> myFormatter<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>value <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> pattern <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> output<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>value              pattern             result</p> <p>2344.3456     000000.##       002344.35</p></blockquote> <h6 id="区域敏感格式"><a href="#区域敏感格式" class="header-anchor">#</a> 区域敏感格式</h6> <p>前面的示例创建了<code>DecimalFormat</code>对象的<code>Locale</code>。如果你想<code>DecimalFormat</code>对象的<code>Locale</code>，则实例化<code>NumberFormat</code>然后把它投给<code>DecimalFormat</code></p> <div class="language-JAVA line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Locale</span> locale <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span><span class="token string">&quot;de&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;DE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> pattern <span class="token operator">=</span> <span class="token string">&quot;###,###.###&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Float</span>  value <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float</span><span class="token punctuation">(</span><span class="token string">&quot;343849.54353&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">NumberFormat</span> numberFormat <span class="token operator">=</span> <span class="token class-name">NumberFormat</span><span class="token punctuation">.</span><span class="token function">getNumberInstance</span><span class="token punctuation">(</span>locale<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">DecimalFormat</span> decimalFormat <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">DecimalFormat</span><span class="token punctuation">)</span>numberFormat<span class="token punctuation">;</span>
decimalFormat<span class="token punctuation">.</span><span class="token function">applyPattern</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> output <span class="token operator">=</span> decimalFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>pattern <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> output <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> locale<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>pattern                   result                     locale</p> <p>###,###.###        343.849,531         de_DE</p></blockquote> <p>我们会发现根据区域转换到的格式与模板的格式有轻微的不同。</p> <p>对于这些应用程序，最终用户指定的格式模式应该使用本地化表示法。在这些情况下，您需要调DecimalFormat对象的<code>applyLocalizedPattern</code>方法</p> <p>这里还不太了解DecimalFormat和NumberFormat的区别</p> <p>NumberFormat是一个抽象类，仅能够进行一些简单通用的数字字符格式转换，如果需要一些特殊或特定领域的格式转换，需要使用它的子类去实现它的抽象方法。DecimalFormat就是其中的一个子类，它主要用于格式化十进制数字。它具有多种功能，旨在使可以在任何语言环境中解析和格式化数字，包括对西方，阿拉伯和印度数字的支持。它还支持各种数字，包括整数（123），定点数字（123.4），科学计数法（1.23E4），百分比（12％）和货币金额（$ 123）。所有这些都可以本地化。</p> <p><code>DecimalFormatSymbols</code>通过对数字应用奇怪的格式来初始化。</p> <h5 id="日期格式化"><a href="#日期格式化" class="header-anchor">#</a> 日期格式化</h5> <p>DateFormat对日期和时间部分使用<code>Java.util.Date</code>类进行转换，但是该类已经不再推荐使用了，因为语义不明确的原因。</p> <p><code>DateFormat</code>类提供如下五种预定义的格式样式</p> <ul><li>DEFAULT</li> <li>SHORT</li> <li>MEDIUM</li> <li>LONG</li> <li>FULL</li></ul> <p>这个<code>Java.time</code>在JDK 8发行版中提供的API提供了一个全面的日期和时间模型：LocalDate，LocalDateTime</p> <p>如果要创建自己的自定义格式，则可以使用<a href="https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html" target="_blank" rel="noopener noreferrer"><code>SimpleDateFormat</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>类</p> <p>这个<code>SimpleDateFormat</code>类是区域敏感的。如果你实例化<code>SimpleDateFormat</code>无<code>Locale</code>参数，它将根据默认值格式化日期和时间。通过模式和<code>Locale</code>确定格式。同样的模式，如果<code>Locale</code>各不相同，<code>SimpleDateFormat</code>可能会以不同的格式设置日期和时间。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>This constructor may not support all locales. For full coverage, use the factory methods in the DateFormat class
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>它可能不支持所有的区域格式转换，如果需要覆盖所有的区域，建议使用DateFormat的getTimeInstance等工厂方法来获取DateFormat对象进行格式化操作......</p> <p><code>SimpleDateFormat</code><strong>允许您从选择任何用于日期时间格式化的用户定义模式开始。但是，建议您使用 DateFormat 中的 getTimeInstance， getDateInstance 或 getDateTimeInstance创建日期时间格式化程序</strong></p> <p>也就是说不太建议使用SimpleDateFormat进行自定义格式化。我们也可以使用使用DateTimeFormat去实现格式化程序，因为之前的格式日期是java.util.Date,SimpleDateFormat不支持java8新增的java.time.LocalDate的日期模型的格式化。但是我们使用DateTimeFormatter类可以支持对LocalDate的格式化。</p> <p>演示案例</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">DateTimeFormatter</span> dateTimeFormatter <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;yy-MM-dd HH:mm:ss&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">LocalDateTime</span> localDateTime <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> formattedDataTime <span class="token operator">=</span> localDateTime<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>dateTimeFormatter<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;time = &quot;</span> <span class="token operator">+</span> formattedDataTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>time = &lt;20-09-12 11:28:39&gt;</p></blockquote> <p>DateTimeFormatter是一个final类，不可以通过继承来改变，但是类本身已经通过模式字符串可以自定义用户需要的格式，因此不必通过重写的方式去改变，当然可能api的设计者有更深层次的考虑。</p> <p>Formatter for printing and parsing date-time objects.
This class provides the main application entry point for printing and parsing and provides common implementations of DateTimeFormatter:</p> <ul><li>Using predefined constants, such as ISO_LOCAL_DATE</li> <li>Using pattern letters, such as uuuu-MMM-dd</li> <li>Using localized styles, such as long or medium</li></ul> <p>它有三种使用方式去格式化：使用api中预定义好的格式器，或通过模式字符串定义，或者使用本地风格的格式定义。</p> <p>其中本地风格我不是太明白，但是通过API注释可以很好的清楚究竟是什么样的格式了</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">FormatStyle</span> <span class="token punctuation">{</span>
    <span class="token comment">// ordered from large to small</span>

    <span class="token comment">/**
     * Full text style, with the most detail.
     * For example, the format might be 'Tuesday, April 12, 1952 AD' or '3:30:42pm PST'.
     */</span>
    FULL<span class="token punctuation">,</span>
    <span class="token comment">/**
     * Long text style, with lots of detail.
     * For example, the format might be 'January 12, 1952'.
     */</span>
    LONG<span class="token punctuation">,</span>
    <span class="token comment">/**
     * Medium text style, with some detail.
     * For example, the format might be 'Jan 12, 1952'.
     */</span>
    MEDIUM<span class="token punctuation">,</span>
    <span class="token comment">/**
     * Short text style, typically numeric.
     * For example, the format might be '12.13.52' or '3:30pm'.
     */</span>
    SHORT<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>它是系统默认的日期时间风格，语义不太清晰，不推荐使用。</p> <h4 id="date-format-pattern-syntax"><a href="#date-format-pattern-syntax" class="header-anchor">#</a> Date Format Pattern Syntax</h4> <table><thead><tr><th>Symbol</th> <th>Meaning</th> <th>Presentation</th> <th>Example</th></tr></thead> <tbody><tr><td>G</td> <td>时代</td> <td>Text</td> <td>AD（公元）</td></tr> <tr><td>y</td> <td>year</td> <td>Number</td> <td>2009</td></tr> <tr><td>M</td> <td>month in year</td> <td>Text &amp; Number</td> <td>July &amp; 07</td></tr> <tr><td>d</td> <td>day in month</td> <td>Number</td> <td>10</td></tr> <tr><td>h</td> <td>hour in am/pm (1-12)</td> <td>Number</td> <td>12</td></tr> <tr><td>H</td> <td>hour in day (0-23)</td> <td>Number</td> <td>0</td></tr> <tr><td>m</td> <td>minute in hour</td> <td>Number</td> <td>30</td></tr> <tr><td>s</td> <td>second in minute</td> <td>Number</td> <td>55</td></tr> <tr><td>S</td> <td>millisecond</td> <td>Number</td> <td>978</td></tr> <tr><td>E</td> <td>day in week</td> <td>Text</td> <td>Tuesday</td></tr> <tr><td>D</td> <td>day in year</td> <td>Number</td> <td>189</td></tr> <tr><td>F</td> <td>day of week in month</td> <td>Number</td> <td>2 (2nd Wed in July)</td></tr> <tr><td>w</td> <td>week in year</td> <td>Number</td> <td>27</td></tr> <tr><td>W</td> <td>week in month</td> <td>Number</td> <td>2</td></tr> <tr><td>a</td> <td>am/pm marker</td> <td>Text</td> <td>PM</td></tr> <tr><td>k</td> <td>hour in day (1-24)</td> <td>Number</td> <td>24</td></tr> <tr><td>K</td> <td>hour in am/pm (0-11)</td> <td>Number</td> <td>0</td></tr> <tr><td>z</td> <td>time zone</td> <td>Text</td> <td>Pacific Standard Time</td></tr> <tr><td>'</td> <td>escape for text</td> <td>Delimiter</td> <td>(none)</td></tr> <tr><td>'</td> <td>single quote</td> <td>Literal</td> <td>'</td></tr></tbody></table> <p>不是字母的字符被视为引文。也就是说，即使它们不包含在单引号中，它们也会出现在格式化文本中</p> <blockquote><p>扩展：使用<code>DateFormatSymbols</code>类时，可以更改表示月份名称、一周中的天数和其他格式元素的符号</p></blockquote> <h5 id="messsages"><a href="#messsages" class="header-anchor">#</a> Messsages</h5> <p><code>MessageFormat</code>和<code>ChoiceFormat</code>类可以帮助您解决格式化文本消息时可能遇到的一些问题</p> <p>我们都喜欢使用程序让我们知道发生了什么。经常通过显示状态和错误消息来通知我们的程序。当然，这些信息需要翻译，以便世界各地的最终用户能够理解它们。</p> <h6 id="复合消息"><a href="#复合消息" class="header-anchor">#</a> 复合消息</h6> <p>复合消息可能包含几种变量：日期、时间、字符串、数字、货币和百分比。若要以与区域设置无关的方式格式化复合消息，请构造应用于<code>MessageFormat</code>对象</p> <h6 id="如何国际化复合消息"><a href="#如何国际化复合消息" class="header-anchor">#</a> 如何国际化复合消息？</h6> <h6 id="_1-确定表示该数据的对象类型"><a href="#_1-确定表示该数据的对象类型" class="header-anchor">#</a> 1.确定表示该数据的对象类型</h6> <h6 id="_2-在resourcebundle中隔离消息模式"><a href="#_2-在resourcebundle中隔离消息模式" class="header-anchor">#</a> 2.在ResourceBundle中隔离消息模式</h6> <p>将消息存储在<code>ResourceBundle</code>命名<code>MessageBundle</code>，如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ResourceBundle messages = ResourceBundle.getBundle(&quot;MessageBundle&quot;, currentLocale);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这<code>ResourceBundle</code>由每个<code>Locale</code>。因为<code>ResourceBundle</code>被称为<code>MessageBundle</code>，美国英语的属性文件名为<code>MessageBundle_en_US.properties</code>。该文件的内容如下：</p> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token attr-name">template</span> <span class="token punctuation">=</span> <span class="token attr-value">At {2,time,short} on {2,date,long}, we detected {1,number,integer} spaceships on the planet {0}.</span>

<span class="token attr-name">planet</span> <span class="token punctuation">=</span> <span class="token attr-value">Mars</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>消息模式中的每个参数</p> <table><thead><tr><th>Argument</th> <th>Description</th></tr></thead> <tbody><tr><td><code>{2,time,short}</code></td> <td>日期对象的时间部分. The <code>short</code> style specifies the <code>DateFormat.SHORT</code> formatting style.</td></tr> <tr><td><code>{2,date,long}</code></td> <td>日期对象的日期部分。同一日期对象用于日期和时间变量。在参数的对象数组中，保存日期对象的元素的索引为2</td></tr> <tr><td><code>{1,number,integer}</code></td> <td>一个Number对象，使用整数样式进一步限定</td></tr> <tr><td><code>{0}</code></td> <td>The <code>String</code> in the <code>ResourceBundle</code> that corresponds to the <code>planet</code> key.</td></tr></tbody></table> <p>它的数字来源与消息参数数组的索引</p> <h6 id="_3-设置消息参数"><a href="#_3-设置消息参数" class="header-anchor">#</a> 3.设置消息参数</h6> <p>下面的代码行为模式中的每个参数分配值。消息模式中元素的索引对应参数数组的索引，即<code>messageArguments</code>数组匹配模式中的参数号。</p> <p>例如，<code>Integer</code>元素对应于<code>{1,number,integer}</code>模式中的索引。<code>String</code>元素0处的对象将从<code>ResourceBundle</code>带着<code>getString</code>方法。下面是定义消息参数数组的代码：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> messageArguments <span class="token operator">=</span> <span class="token punctuation">{</span>
    messages<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;planet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h6 id="_4-创建格式化程序"><a href="#_4-创建格式化程序" class="header-anchor">#</a> 4.创建格式化程序</h6> <p>接下来，创建一个<code>MessageFormat</code>对象。你设置了<code>Locale</code>因为消息包含<code>Date</code>和<code>Number</code>对象，应该以区分区域设置的方式对其进行格式化</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>MessageFormat formatter = new MessageFormat(&quot;&quot;);
formatter.setLocale(currentLocale);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h6 id="_5-使用模式和参数格式化消息"><a href="#_5-使用模式和参数格式化消息" class="header-anchor">#</a> 5.使用模式和参数格式化消息</h6> <p>这个步骤展示了模式、消息参数和格式化程序是如何一起工作的。首先，获取模式<code>String</code>从<code>ResourceBundle</code>带着<code>getString</code>方法。模式的关键是<code>template</code>。传递模式<code>String</code>到格式化程序的<code>applyPattern</code>方法。然后使用消息参数数组格式化消息，方法是调用<code>format</code>方法。这个<code>String</code>由<code>format</code>方法已准备好显示。所有这些都是通过两行代码完成的：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>formatter<span class="token punctuation">.</span><span class="token function">applyPattern</span><span class="token punctuation">(</span>messages<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;template&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> formattedMessage <span class="token operator">=</span> formatter<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>messageArguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="choiceformat-类"><a href="#choiceformat-类" class="header-anchor">#</a> ChoiceFormat 类</h5> <p>将一个数字映射到一个单词或短语，从而允许您以语法方式构造正确的消息</p> <h6 id="_1-定义消息模式"><a href="#_1-定义消息模式" class="header-anchor">#</a> 1.定义消息模式</h6> <blockquote><p>pattern = There {0} on {1}.</p></blockquote> <h6 id="_2-创建一个-resourcebundle-文件集合"><a href="#_2-创建一个-resourcebundle-文件集合" class="header-anchor">#</a> 2.创建一个 ResourceBundle 文件集合</h6> <ul><li><p>[<code>ChoiceBundle_en_US.properties</code>]</p></li> <li><ul><li><div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token attr-name">pattern</span> <span class="token punctuation">=</span> <span class="token attr-value">There {0} on {1}.</span>
<span class="token attr-name">noFiles</span> <span class="token punctuation">=</span> <span class="token attr-value">are no files</span>
<span class="token attr-name">oneFile</span> <span class="token punctuation">=</span> <span class="token attr-value">is one file</span>
<span class="token attr-name">multipleFiles</span> <span class="token punctuation">=</span> <span class="token attr-value">are {2} files</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul></li> <li><p>[<code>ChoiceBundle_fr_FR.properties</code>]</p></li> <li><ul><li><div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token attr-name">pattern</span> <span class="token punctuation">=</span> <span class="token attr-value">Il {0} sur {1}.</span>
<span class="token attr-name">noFiles</span> <span class="token punctuation">=</span> <span class="token attr-value">n'y a pas de fichiers</span>
<span class="token attr-name">oneFile</span> <span class="token punctuation">=</span> <span class="token attr-value">y a un fichier</span>
<span class="token attr-name">multipleFiles</span> <span class="token punctuation">=</span> <span class="token attr-value">y a {2} fichiers</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul></li></ul> <h6 id="_3-创建消息格式化程序"><a href="#_3-创建消息格式化程序" class="header-anchor">#</a> 3.创建消息格式化程序</h6> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">MessageFormat</span> messageForm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MessageFormat</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
messageForm<span class="token punctuation">.</span><span class="token function">setLocale</span><span class="token punctuation">(</span>currentLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h6 id="_4-创建一个选择格式化程序"><a href="#_4-创建一个选择格式化程序" class="header-anchor">#</a> 4.创建一个选择格式化程序</h6> <p>这个<code>ChoiceFormat</code>对象允许您根据<code>double</code>数字，特别的<code>String</code>。范围<code>double</code>数字，以及<code>String</code>它们映射到的对象在数组中指定：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fileLimits <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> fileStrings <span class="token operator">=</span> <span class="token punctuation">{</span>
    bundle<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;noFiles&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    bundle<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;oneFile&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    bundle<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;multipleFiles&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><code>ChoiceFormat</code>映射<code>double</code>中的元素的<code>String[]</code>具有相同索引的。</p> <p>指定<code>double</code>和<code>String</code>数组实例化时<code>ChoiceFormat</code>:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ChoiceFormat choiceForm = new ChoiceFormat(fileLimits, fileStrings);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h6 id="_5-应用模式"><a href="#_5-应用模式" class="header-anchor">#</a> 5.应用模式</h6> <p>还记得您在步骤1中构建的模式吗？是从<code>ResourceBundle</code>并将其应用于<code>MessageFormat</code>目的：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> pattern <span class="token operator">=</span> bundle<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;pattern&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
messageForm<span class="token punctuation">.</span><span class="token function">applyPattern</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h6 id="_6-分配格式"><a href="#_6-分配格式" class="header-anchor">#</a> 6.分配格式</h6> <p>在此步骤中，您将分配给<code>MessageFormat</code>对象<code>ChoiceFormat</code>在步骤4中创建的对象：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Format[] formats = {choiceForm, null, NumberFormat.getInstance()};
messageForm.setFormats(formats);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这个<code>setFormats</code>方法分配<code>Format</code>对象设置为消息模式中的参数。必须调用<code>applyPattern</code>方法之前调用<code>setFormats</code>方法。下表显示了<code>Format</code>数组对应于消息模式中的参数：</p> <table><thead><tr><th>Array Element</th> <th>Pattern Argument</th></tr></thead> <tbody><tr><td><code>choiceForm</code></td> <td><code>{0}</code></td></tr> <tr><td><code>null</code></td> <td><code>{1}</code></td></tr> <tr><td><code>NumberFormat.getInstance()</code></td> <td><code>{2}</code></td></tr></tbody></table> <h6 id="_7-设置参数并格式化消息"><a href="#_7-设置参数并格式化消息" class="header-anchor">#</a> 7.设置参数并格式化消息</h6> <p>在运行时，程序将变量传递给<code>MessageFormat</code>对象。数组中的元素对应于模式中的参数。</p> <p>例如,<code>messageArgument[1]</code>映射到模式参数<code>{1}</code>，这是<code>String</code>包含磁盘的名称。在前面的步骤中，程序分配了一个<code>ChoiceFormat</code>对象对参数<code>{0}</code>模式。因此，分配给<code>messageArgument[0]</code>决定哪一个<code>String</code>这个<code>ChoiceFormat</code>对象选择。</p> <p>如果<code>messageArgument[0]</code>大于或等于2，则<code>String</code>包含短语<code>are {2} files</code>替换参数<code>{0}</code>在模式中。分配给<code>messageArgument[2]</code>将被替换为模式参数。<code>{2}</code>。下面的代码尝试了这一点：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> messageArguments <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;XDisk&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> numFiles <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> numFiles <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> numFiles<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    messageArguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>numFiles<span class="token punctuation">)</span><span class="token punctuation">;</span>
    messageArguments<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>numFiles<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> result <span class="token operator">=</span> messageForm<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>messageArguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h6 id="运行结果"><a href="#运行结果" class="header-anchor">#</a> 运行结果</h6> <blockquote><p>Connected to the target VM, address: '127.0.0.1:61269', transport: 'socket'
currentLocale = en_US</p> <p>There are no files on XDisk.
There is one file on XDisk.
There are 2 files on XDisk.
There are 3 files on XDisk.</p> <p>currentLocale = fr_FR</p> <p>Il n'y a pas de fichiers sur XDisk.
Il y a un fichier sur XDisk.
Il y a 2 fichiers. sur XDisk.
Il y a 3 fichiers. sur XDisk.</p></blockquote> <h4 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h4> <p><a href="https://docs.oracle.com/javase/tutorial/index.html" target="_blank" rel="noopener noreferrer">JAVA™教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html" target="_blank" rel="noopener noreferrer">lambda案例演示<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit" style="display:none;"><!----> <!----></footer> <!----> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/otsma/assets/js/app.2cc25e1e.js" defer></script><script src="/otsma/assets/js/3.7d6e1650.js" defer></script><script src="/otsma/assets/js/1.9128deea.js" defer></script><script src="/otsma/assets/js/17.d44e7783.js" defer></script>
  </body>
</html>
